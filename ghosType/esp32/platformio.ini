[env:esp32s3]
platform = espressif32@6.8.1
board = esp32-s3-devkitc-1
framework = arduino

; ===== GHOSTYPE 프로덕션 설정 =====

; 프로덕션 컴파일 플래그
build_flags = 
    -DCORE_DEBUG_LEVEL=0
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=0
    -DBOARD_HAS_PSRAM
    -O2
    -DNDEBUG
    -std=gnu++17

; 필수 라이브러리
lib_deps = 
    h2zero/NimBLE-Arduino@^1.4.0
    bblanchon/ArduinoJson@^6.21.4

; 컴파일러 최적화
build_unflags = -std=gnu++11
lib_ldf_mode = deep+

; 업로드 및 모니터링
upload_speed = 921600
monitor_speed = 115200
monitor_port = COM*
upload_port = COM*

; 파티션 설정 (HID 및 BLE용 충분한 공간)
board_build.partitions = default_16MB.csv

; USB HID 활성화
board_build.arduino.usb_mode = 1